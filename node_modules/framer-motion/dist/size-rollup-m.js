import*as t from"react";import{createContext as e,useContext as n,useLayoutEffect as r,useEffect as o,useRef as a,useInsertionEffect as i,useCallback as s,useMemo as c,forwardRef as l,createElement as u}from"react";const f=e({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),d=e({});const m=e(null),p="undefined"!=typeof document,g=p?r:o,y=e({strict:!1});function h(t,e,r,s){const c=n(d).visualElement,l=n(y),u=n(m),p=n(f).reducedMotion,h=a();s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:c,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:p}));const v=h.current;i(()=>{v&&v.update(r,u)}),g(()=>{v&&v.render()}),o(()=>{v&&v.updateFeatures()});return(window.HandoffAppearAnimations?g:o)(()=>{v&&v.animationState&&v.animationState.animateChanges()}),v}function v(t,e,n){return s(r=>{var o;r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&("function"==typeof n?n(r):"object"==typeof(o=n)&&Object.prototype.hasOwnProperty.call(o,"current")&&(n.current=r))},[e])}function w(t){return"string"==typeof t||Array.isArray(t)}function b(t){return"object"==typeof t&&"function"==typeof t.start}const x=["initial","animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"];function S(t){return b(t.animate)||x.some(e=>w(t[e]))}function V(t){const{initial:e,animate:r}=function(t,e){if(S(t)){const{initial:e,animate:n}=t;return{initial:!1===e||w(e)?e:void 0,animate:w(n)?n:void 0}}return!1!==t.inherit?e:{}}(t,n(d));return c(()=>({initial:e,animate:r}),[A(e),A(r)])}function A(t){return Array.isArray(t)?t.join(" "):t}const E={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},T={};for(const t in E)T[t]={isEnabled:e=>E[t].some(t=>!!e[t])};function k(t){const e=a(null);return null===e.current&&(e.current=t()),e.current}const L=!1;let P=1;const W=e({}),C=e({}),O=Symbol.for("motionComponentSymbol");function B({preloadedFeatures:e,createVisualElement:r,useRender:o,useVisualState:a,Component:i}){e&&function(t){for(const e in t)T[e]={...T[e],...t[e]}}(e);const s=l((function(s,c){let l;const u={...n(f),...s,layoutId:M(s)},{isStatic:m}=u,g=V(s),w=m?void 0:k(()=>{if(L)return P++}),b=a(s,m);if(!m&&p){g.visualElement=h(i,b,u,r);const t=n(C),o=n(y).strict;g.visualElement&&(l=g.visualElement.loadFeatures(u,o,e,w,t))}return t.createElement(d.Provider,{value:g},l&&g.visualElement?t.createElement(l,{visualElement:g.visualElement,...u}):null,o(i,s,w,v(b,g.visualElement,c),b,m,g.visualElement))}));return s[O]=i,s}function M({layoutId:t}){const e=n(W).id;return e&&void 0!==t?e+"-"+t:t}const R=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X(t){return"string"==typeof t&&!t.includes("-")&&!!(R.indexOf(t)>-1||/[A-Z]/.test(t))}const Y={},H=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],F=new Set(H);function $(t,{layout:e,layoutId:n}){return F.has(t)||t.startsWith("origin")||(e||void 0!==n)&&(!!Y[t]||"opacity"===t)}const j=t=>Boolean(t&&t.getVelocity),D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I=H.length;const Z=(z="--",t=>"string"==typeof t&&t.startsWith(z));var z;const U=(t,e)=>e&&"number"==typeof t?e.transform(t):t,q={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},N={...q,transform:t=>((t,e,n)=>Math.min(Math.max(n,t),e))(0,1,t)},_={...q,default:1};const G=t=>({test:e=>function(t){return"string"==typeof t}(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),J=G("deg"),K=G("%"),Q=G("px"),tt={...K,parse:t=>K.parse(t)/100,transform:t=>K.transform(100*t)},et={...q,transform:Math.round},nt={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:J,rotateX:J,rotateY:J,rotateZ:J,scale:_,scaleX:_,scaleY:_,scaleZ:_,skew:J,skewX:J,skewY:J,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:N,originX:tt,originY:tt,originZ:Q,zIndex:et,fillOpacity:N,strokeOpacity:N,numOctaves:et};function rt(t,e,n,r){const{style:o,vars:a,transform:i,transformOrigin:s}=t;let c=!1,l=!1,u=!0;for(const t in e){const n=e[t];if(Z(t)){a[t]=n;continue}const r=nt[t],f=U(n,r);if(F.has(t)){if(c=!0,i[t]=f,!u)continue;n!==(r.default||0)&&(u=!1)}else t.startsWith("origin")?(l=!0,s[t]=f):o[t]=f}if(e.transform||(c||r?o.transform=function(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let a="";for(let e=0;e<I;e++){const n=H[e];if(void 0!==t[n]){a+=`${D[n]||n}(${t[n]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),o?a=o(t,r?"":a):n&&r&&(a="none"),a}(t.transform,n,u,r):o.transform&&(o.transform="none")),l){const{originX:t="50%",originY:e="50%",originZ:n=0}=s;o.transformOrigin=`${t} ${e} ${n}`}}const ot=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function at(t,e,n){for(const r in e)j(e[r])||$(r,n)||(t[r]=e[r])}function it(t,e,n){const r={};return at(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},e,n){return c(()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return rt(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}(t,e,n)),t.transformValues?t.transformValues(r):r}function st(t,e,n){const r={},o=it(t,e,n);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const ct=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function lt(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||ct.has(t)}let ut=t=>!lt(t);try{(ft=require("@emotion/is-prop-valid").default)&&(ut=t=>t.startsWith("on")?!lt(t):ft(t))}catch(t){}var ft;function dt(t,e,n){return"string"==typeof t?t:Q.transform(e+n*t)}const mt={offset:"stroke-dashoffset",array:"stroke-dasharray"},pt={offset:"strokeDashoffset",array:"strokeDasharray"};function gt(t,{attrX:e,attrY:n,originX:r,originY:o,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...c},l,u,f){if(rt(t,c,l,f),u)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:d,style:m,dimensions:p}=t;d.transform&&(p&&(m.transform=d.transform),delete d.transform),p&&(void 0!==r||void 0!==o||m.transform)&&(m.transformOrigin=function(t,e,n){return`${dt(e,t.x,t.width)} ${dt(n,t.y,t.height)}`}(p,void 0!==r?r:.5,void 0!==o?o:.5)),void 0!==e&&(d.x=e),void 0!==n&&(d.y=n),void 0!==a&&function(t,e,n=1,r=0,o=!0){t.pathLength=1;const a=o?mt:pt;t[a.offset]=Q.transform(-r);const i=Q.transform(e),s=Q.transform(n);t[a.array]=`${i} ${s}`}(d,a,i,s,!1)}const yt=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),ht=t=>"string"==typeof t&&"svg"===t.toLowerCase();function vt(t,e,n,r){const o=c(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return gt(n,e,{enableHardwareAcceleration:!1},ht(r),t.transformTemplate),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const e={};at(e,t.style,t),o.style={...e,...o.style}}return o}function wt(t=!1){return(e,n,r,o,{latestValues:a},i)=>{const s=(X(e)?vt:st)(n,a,i,e),l={...function(t,e,n){const r={};for(const o in t)"values"===o&&"object"==typeof t.values||(ut(o)||!0===n&&lt(o)||!e&&!lt(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}(n,"string"==typeof e,t),...s,ref:o},{children:f}=n,d=c(()=>j(f)?f.get():f,[f]);return r&&(l["data-projection-id"]=r),u(e,{...l,children:d})}}const bt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xt(t,e,n,r){!function(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const e in n)t.style.setProperty(e,n[e])}(t,e,void 0,r);for(const n in e.attrs)t.setAttribute(bt.has(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.attrs[n])}function St(t,e){const{style:n}=t,r={};for(const o in n)(j(n[o])||e.style&&j(e.style[o])||$(o,t))&&(r[o]=n[o]);return r}function Vt(t){const e=j(t)?t.get():t;return n=e,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?e.toValue():e;var n}const At=t=>(e,r)=>{const o=n(d),a=n(m),i=()=>function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,a){const i={latestValues:Et(r,o,a,t),renderState:e()};return n&&(i.mount=t=>n(r,t,i)),i}(t,e,o,a);return r?i():k(i)};function Et(t,e,n,r){const o={},a=r(t,{});for(const t in a)o[t]=Vt(a[t]);let{initial:i,animate:s}=t;const c=S(t),l=function(t){return Boolean(S(t)||t.variants)}(t);e&&l&&!c&&!1!==t.inherit&&(void 0===i&&(i=e.initial),void 0===s&&(s=e.animate));let u=!!n&&!1===n.initial;u=u||!1===i;const f=u?s:i;if(f&&"boolean"!=typeof f&&!b(f)){(Array.isArray(f)?f:[f]).forEach(e=>{const n=function(t,e,n,r={},o={}){return"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,o)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==n?n:t.custom,r,o)),e}(t,e);if(!n)return;const{transitionEnd:r,transition:a,...i}=n;for(const t in i){let e=i[t];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(o[t]=e)}for(const t in r)o[t]=r[t]})}return o}const Tt={useVisualState:At({scrapeMotionValuesFromProps:function(t,e){const n=St(t,e);for(const r in t)if(j(t[r])||j(e[r])){n["x"===r||"y"===r?"attr"+r.toUpperCase():r]=t[r]}return n},createRenderState:yt,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){n.dimensions={x:0,y:0,width:0,height:0}}gt(n,r,{enableHardwareAcceleration:!1},ht(e.tagName),t.transformTemplate),xt(e,n)}})},kt={useVisualState:At({scrapeMotionValuesFromProps:St,createRenderState:ot})};const Lt=function(t){function e(e,n={}){return B(t(e,n))}if("undefined"==typeof Proxy)return e;const n=new Map;return new Proxy(e,{get:(t,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}((function(t,{forwardMotionProps:e=!1},n,r){return{...X(t)?Tt:kt,preloadedFeatures:n,useRender:wt(e),createVisualElement:r,Component:t}}));export{Lt as m};
